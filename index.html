<!DOCTYPE html>
<html lang="pt-br">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Cálculo IMC</title>
		<link rel="stylesheet" href="style.css">
		<link rel="shortcut icon" href="calculator-outline.svg" type="image/x-icon">
	</head>

	<body>
		<div class="container">
			<div class="primeiro-bloco">
				<h1>Calcule o seu Índice de Massa Corporal - IMC</h1>
				<button onclick="go(1,2)">Iniciar</button>
			</div>
			<div class="segundo-bloco">
				<h3>Calculadora de IMC</h3>
				<hr>
				<label for="peso">Digite seu peso</label>
				<input type="number" placeholder="Seu peso" id="peso">
				<br><br>
				<label for="altura">Digite sua altura</label>
				<input type="number" placeholder="Sua altura" id="altura">
				<br><br>
				<button onclick="validate()">Calcular</button>
			</div>
			<div class="terceiro-bloco">
				<h3>Resultado!</h3>
				<p id="resultado"></p>
				<button onclick="go(3,2)">Calcular Novamente</button>
				<button onclick="go(3,1)">Finalizar</button>
			</div>
		</div>

		<footer>
			<div>
				<div class="icons">
					<a href="https://www.linkedin.com/in/dev-matheus-rodrigues/"><img src="logo-linkedin.svg" Alt="icon likendin"></a>
				</div>
				<div class="icoons">
					<a href="https://github.com/DeveloperMathR"><img src="logo-github.svg" Alt="icon github"></a>
				</div>
				<p>Feito por Matheus Rodrigues</p>
				<p>&copy; Copyrigth</p>
			</div>
		</footer>
	</body>

	<script>
		
		const firstDiv = document.querySelector('.primeiro-bloco');
		const secondDiv = document.querySelector('.segundo-bloco');
		const finalDiv = document.querySelector('.terceiro-bloco');

		function go(currentStep,nextStep) {
			let dNone, dBlock;

			if(currentStep == 1) {
				dNone = firstDiv;
			}

			else if(currentStep == 2) {
				dNone = secondDiv;
			}

			else {
				dNone = finalDiv;
			}

			dNone.style.display = "none";

			if(nextStep == 1) {
			dBlock = firstDiv;
			}

			else if(nextStep == 2) {
			dBlock = secondDiv;
			}

			else {
			dBlock = finalDiv;
			}

			dBlock.style.display = "block";
		}

		function validate() {
			const peso = document.getElementById('peso');
			const altura = document.getElementById('altura');
			peso.style.border = 'none';
			altura.style.border = 'none';

			if(!peso.value || !altura.value) {
				
				if(peso.value && altura.value) {
					peso.style.border = '1px solid red';
					altura.style.border = '1px solid red';
				}

				else if(!peso.value) {
					peso.style.border = '1px solid red';
				}

				else {
					altura.style.border = '1px solid red';
				}
			}
			else {
				let imc = peso.value / (altura.value * altura.value);
				const result = document.getElementById('resultado');
				if (imc < 18.5) {
					console.log('Magreza | Obesidade: 0');
					result.style.color = 'yellow';
					result.innerHTML = 'Magreza | Obesidade: 0';
				}
				
				else if (imc >= 18.5 && imc < 25) {
					console.log ('Normal | Obesidade: 0');
					result.style.color = 'green';
					result.innerHTML = 'Normal | Obesidade: 0';
				}
				
				else if (imc >= 25 && imc < 30) {
					console.log ('Sobrepeso | Obesidade I');
					result.style.color = 'yellow';
					result.innerHTML = 'Sobrepeso | Obesidade: I';
				}

				else if (imc >= 30 && imc < 40) {
					console.log('Obesidade | Obesidade II');
					result.style.color = 'red';
					result.innerHTML = 'Obesidade | Obesidade: II';
				}

				else {
					console.log('Obesidade grave | Obesidade III');
					result.style.color = 'black';
					result.innerHTML = 'Obesidade grave | Obesidade: III';
				}
				go(2,3);
			}
		}
    </script>
</html>
